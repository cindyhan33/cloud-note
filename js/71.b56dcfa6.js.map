{"version":3,"file":"js/71.b56dcfa6.js","mappings":"gQACOA,MAAM,SAASC,GAAG,iB,UAGjBC,EAAAA,EAAAA,GAEM,OAFDF,MAAM,QAAM,EACfE,EAAAA,EAAAA,GAAkC,OAA7B,aAAW,gBADlB,K,WAEM,U,GAFNC,EAAAA,G,GAMGH,MAAM,U,GAEJA,MAAM,a,UAILE,EAAAA,EAAAA,GAEM,OAFDF,MAAM,QAAM,EACfE,EAAAA,EAAAA,GAAwC,OAAnC,aAAW,sBADlB,K,+BAOMF,MAAM,Q,0EAtBxBI,EAAAA,EAAAA,IA4BM,MA5BN,EA4BM,EA3BJF,EAAAA,EAAAA,GAMS,gBALPA,EAAAA,EAAAA,GAIW,KAJRG,KAAK,IAAIL,MAAM,SAAUM,QAAK,8BAAeC,EAAAA,UAAAA,EAAAA,YAAAA,IAAQ,sBAAxD,MAMFL,EAAAA,EAAAA,GAmBO,cAlBLA,EAAAA,EAAAA,GAiBM,MAjBN,EAiBM,EAhBJA,EAAAA,EAAAA,GAAsC,UAAlC,UAAMM,EAAAA,EAAAA,IAAGC,EAAAA,UAAUC,QAAS,IAAC,IACjCR,EAAAA,EAAAA,GAcM,MAdN,EAcM,gBAbJE,EAAAA,EAAAA,IAYcO,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IAZkBH,EAAAA,WAAZI,K,WAApBC,EAAAA,EAAAA,IAYcC,EAAA,CAZ8BC,IAAKH,EAAWI,GAAE,oBAAsBJ,EAASZ,KAChFD,MAAM,YADnB,C,kBAEE,IASM,EATNE,EAAAA,EAAAA,GASM,YARJgB,GAQI,QANE,KACNV,EAAAA,EAAAA,IAAGK,EAASM,OAAQ,IACpB,IAAAjB,EAAAA,EAAAA,GAAsC,aAAAM,EAAAA,EAAAA,IAA7BK,EAASO,YAAU,IAC5BlB,EAAAA,EAAAA,GAAqE,QAA/DF,MAAM,SAAUM,SAAK,YAAeC,EAAAA,OAAOM,IAAQ,qBAAG,KAAE,EAAAQ,IAC9DnB,EAAAA,EAAAA,GAAuE,QAAjEF,MAAM,SAAUM,SAAK,YAAeC,EAAAA,SAASM,IAAQ,qBAAG,KAAE,EAAAS,IAChEpB,EAAAA,EAAAA,GAA0D,OAA1D,GAA0DM,EAAAA,EAAAA,IAApCK,EAASU,mBAAiB,Q,KAVpD,8B,kCAyBV,GACEC,OACE,MAAO,IAETC,UACEC,EAAAA,EAAAA,UAAeC,MAAKC,IACbA,EAAIC,SACPC,KAAKC,QAAQC,KAAK,CAACC,KAAM,cAG7BH,KAAKI,gBAEPC,SAAU,KACLC,EAAAA,EAAAA,IAAW,CAAC,eAEjBC,QAAS,KACJC,EAAAA,EAAAA,IAAW,CACZ,eACA,cACA,iBACA,mBAEFC,WACEC,EAAAA,EAAAA,OAAoB,WAAY,QAAS,CACvCC,kBAAmB,KACnBC,iBAAkB,KAClBC,aAAc,YACdC,kBAAmB,qBAClBjB,MAAK,EAAEkB,MAAAA,MACRf,KAAKgB,YAAY,CAAC3B,MAAO0B,QAG7BE,OAAOlC,GAGL2B,EAAAA,EAAAA,OAAoB,WAAY,QAAS,CACvCC,kBAAmB,KACnBC,iBAAkB,KAClBC,aAAc,YACdK,WAAYnC,EAASM,MACrByB,kBAAmB,qBAClBjB,MAAK,EAAEkB,MAAAA,MACRf,KAAKmB,eAAe,CAACC,WAAYrC,EAASZ,GAAIkB,MAAO0B,QAGzDM,SAAStC,GACP2B,EAAAA,EAAAA,QACI,aACA,QACA,CACEC,kBAAmB,KACnBC,iBAAkB,KAClBU,KAAM,YACLzB,MAAK,KACVG,KAAKuB,eAAe,CAACH,WAAYrC,EAASZ,W,UCrFlD,MAAMqD,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF","sources":["webpack://cloud-note/./src/components/NotebookList.vue","webpack://cloud-note/./src/components/NotebookList.vue?3715"],"sourcesContent":["<template>\r\n  <div class=\"detail\" id=\"notebook-list\">\r\n    <header>\r\n      <a href=\"#\" class=\"button\" @click.stop.prevent=\"onCreate\">\r\n        <svg class=\"icon\">\r\n          <use xlink:href=\"#icon-add\"></use>\r\n        </svg>\r\n        新建笔记本</a>\r\n    </header>\r\n    <main>\r\n      <div class=\"layout\">\r\n        <h3>笔记本列表({{ notebooks.length }})</h3>\r\n        <div class=\"book-list\">\r\n          <router-link v-for=\"notebook in notebooks\" :key=\"notebook\" :to=\"`/note?notebookId=${notebook.id}`\"\r\n                       class=\"notebook\">\r\n            <div>\r\n              <svg class=\"icon\">\r\n                <use xlink:href=\"#icon-notebooks\"></use>\r\n              </svg>\r\n              {{ notebook.title }}\r\n              <span>{{ notebook.noteCounts }}</span>\r\n              <span class=\"action\" @click.stop.prevent=\"onEdit(notebook)\">编辑</span>\r\n              <span class=\"action\" @click.stop.prevent=\"onDelete(notebook)\">删除</span>\r\n              <span class=\"date\">{{ notebook.createdAtFriendly }}</span>\r\n            </div>\r\n          </router-link>\r\n        </div>\r\n      </div>\r\n    </main>\r\n  </div>\r\n\r\n</template>\r\n\r\n<script>\r\nimport {ElMessageBox} from 'element-plus'\r\nimport {mapGetters, mapActions} from 'vuex'\r\nimport Auth from '@/apis/author'\r\n\r\nexport default {\r\n  data() {\r\n    return {}\r\n  },\r\n  created() {\r\n    Auth.getInfo().then(res => {\r\n      if (!res.isLogin) {\r\n        this.$router.push({path: '/login'})\r\n      }\r\n    })\r\n    this.getNotebooks()\r\n  },\r\n  computed: {\r\n    ...mapGetters(['notebooks'])\r\n  },\r\n  methods: {\r\n    ...mapActions([\r\n      'getNotebooks',\r\n      'addNotebook',\r\n      'updateNotebook',\r\n      'deleteNotebook',\r\n    ]),\r\n    onCreate() {\r\n      ElMessageBox.prompt('输入新笔记本标题', '创建笔记本', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        inputPattern: /^.{1,30}$/,\r\n        inputErrorMessage: '标题不能为空，且不超过30个字符',\r\n      }).then(({value}) => {\r\n        this.addNotebook({title: value})\r\n      })\r\n    },\r\n    onEdit(notebook) {\r\n      // eslint-disable-next-line no-unused-vars\r\n      let title = ''\r\n      ElMessageBox.prompt('输入新笔记本标题', '修改笔记本', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        inputPattern: /^.{1,30}$/,\r\n        inputValue: notebook.title,\r\n        inputErrorMessage: '标题不能为空，且不超过30个字符',\r\n      }).then(({value}) => {\r\n        this.updateNotebook({notebookId: notebook.id, title: value})\r\n      })\r\n    },\r\n    onDelete(notebook) {\r\n      ElMessageBox.confirm(\r\n          '确认要删除笔记本吗?',\r\n          '删除笔记本',\r\n          {\r\n            confirmButtonText: '确定',\r\n            cancelButtonText: '取消',\r\n            type: 'warning',\r\n          }).then(() => {\r\n        this.deleteNotebook({notebookId: notebook.id})\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n@import url(../assets/css/notebook-list);\r\n\r\n</style>","import { render } from \"./NotebookList.vue?vue&type=template&id=5d03e180&scoped=true\"\nimport script from \"./NotebookList.vue?vue&type=script&lang=js\"\nexport * from \"./NotebookList.vue?vue&type=script&lang=js\"\n\nimport \"./NotebookList.vue?vue&type=style&index=0&id=5d03e180&lang=less&scoped=true\"\n\nimport exportComponent from \"D:\\\\jirengu\\\\cloud-note\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-5d03e180\"]])\n\nexport default __exports__"],"names":["class","id","_createElementVNode","_hoisted_2","_createElementBlock","href","onClick","$options","_toDisplayString","_ctx","length","_Fragment","_renderList","notebook","_createBlock","_component_router_link","key","to","_hoisted_7","title","noteCounts","_hoisted_8","_hoisted_9","createdAtFriendly","data","created","Auth","then","res","isLogin","this","$router","push","path","getNotebooks","computed","mapGetters","methods","mapActions","onCreate","ElMessageBox","confirmButtonText","cancelButtonText","inputPattern","inputErrorMessage","value","addNotebook","onEdit","inputValue","updateNotebook","notebookId","onDelete","type","deleteNotebook","__exports__","render"],"sourceRoot":""}