"use strict";(self["webpackChunkcloud_note"]=self["webpackChunkcloud_note"]||[]).push([[71],{9071:function(t,o,e){e.r(o),e.d(o,{default:function(){return x}});var n=e(6252),s=e(9963),i=e(3577);const a=t=>((0,n.dD)("data-v-5d03e180"),t=t(),(0,n.Cn)(),t),l={class:"detail",id:"notebook-list"},c=a((()=>(0,n._)("svg",{class:"icon"},[(0,n._)("use",{"xlink:href":"#icon-add"})],-1))),u=(0,n.Uk)(" 新建笔记本"),r=[c,u],d={class:"layout"},k={class:"book-list"},p=a((()=>(0,n._)("svg",{class:"icon"},[(0,n._)("use",{"xlink:href":"#icon-notebooks"})],-1))),b=["onClick"],h=["onClick"],_={class:"date"};function v(t,o,e,a,c,u){const v=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)("div",l,[(0,n._)("header",null,[(0,n._)("a",{href:"#",class:"button",onClick:o[0]||(o[0]=(0,s.iM)(((...t)=>u.onCreate&&u.onCreate(...t)),["stop","prevent"]))},r)]),(0,n._)("main",null,[(0,n._)("div",d,[(0,n._)("h3",null,"笔记本列表("+(0,i.zw)(t.notebooks.length)+")",1),(0,n._)("div",k,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(t.notebooks,(t=>((0,n.wg)(),(0,n.j4)(v,{key:t,to:`/note?notebookId=${t.id}`,class:"notebook"},{default:(0,n.w5)((()=>[(0,n._)("div",null,[p,(0,n.Uk)(" "+(0,i.zw)(t.title)+" ",1),(0,n._)("span",null,(0,i.zw)(t.noteCounts),1),(0,n._)("span",{class:"action",onClick:(0,s.iM)((o=>u.onEdit(t)),["stop","prevent"])},"编辑",8,b),(0,n._)("span",{class:"action",onClick:(0,s.iM)((o=>u.onDelete(t)),["stop","prevent"])},"删除",8,h),(0,n._)("span",_,(0,i.zw)(t.createdAtFriendly),1)])])),_:2},1032,["to"])))),128))])])])])}var f=e(9418),g=e(3907),C=e(1588),w={data(){return{}},created(){C.Z.getInfo().then((t=>{t.isLogin||this.$router.push({path:"/login"})})),this.getNotebooks()},computed:{...(0,g.Se)(["notebooks"])},methods:{...(0,g.nv)(["getNotebooks","addNotebook","updateNotebook","deleteNotebook"]),onCreate(){f.T.prompt("输入新笔记本标题","创建笔记本",{confirmButtonText:"确定",cancelButtonText:"取消",inputPattern:/^.{1,30}$/,inputErrorMessage:"标题不能为空，且不超过30个字符"}).then((({value:t})=>{this.addNotebook({title:t})}))},onEdit(t){f.T.prompt("输入新笔记本标题","修改笔记本",{confirmButtonText:"确定",cancelButtonText:"取消",inputPattern:/^.{1,30}$/,inputValue:t.title,inputErrorMessage:"标题不能为空，且不超过30个字符"}).then((({value:o})=>{this.updateNotebook({notebookId:t.id,title:o})}))},onDelete(t){f.T.confirm("确认要删除笔记本吗?","删除笔记本",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{this.deleteNotebook({notebookId:t.id})}))}}},m=e(3744);const T=(0,m.Z)(w,[["render",v],["__scopeId","data-v-5d03e180"]]);var x=T}}]);
//# sourceMappingURL=71.b56dcfa6.js.map