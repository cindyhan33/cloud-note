"use strict";(self["webpackChunkcloud_note"]=self["webpackChunkcloud_note"]||[]).push([[692],{4692:function(t,e,r){r.r(e),r.d(e,{default:function(){return $}});var s=r(6252),o=r(3577);const n={id:"trash",class:"detail"},a={class:"note-sidebar"},i=(0,s._)("h3",{class:"notebook-title"},"回收站",-1),l=(0,s._)("div",{class:"menu"},[(0,s._)("div",null,"更新时间"),(0,s._)("div",null,"标题")],-1),u={class:"notes"},h={class:"date"},d={class:"title"},c={class:"note-detail"},T={key:0,class:"note-bar"},p=(0,s._)("span",null," | ",-1),N=(0,s._)("span",null," | ",-1),_={class:"note-title"},v={class:"editor"},w=["innerHTML"];function k(t,e,r,k,g,b){const y=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",n,[(0,s._)("div",a,[i,l,(0,s._)("ul",u,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.trashNotes,(t=>((0,s.wg)(),(0,s.iD)("li",{key:t},[(0,s.Wm)(y,{to:`/trash?noteId=${t.id}`},{default:(0,s.w5)((()=>[(0,s._)("span",h,(0,o.zw)(t.updatedAtFriendly),1),(0,s._)("span",d,(0,o.zw)(t.title),1)])),_:2},1032,["to"])])))),128))])]),(0,s._)("div",c,[((0,s.wg)(),(0,s.iD)("div",T,[(0,s._)("span",null,"创建日期："+(0,o.zw)(t.curTrashNote.createdAtFriendly),1),p,(0,s._)("span",null,"更新日期："+(0,o.zw)(t.curTrashNote.updatedAtFriendly),1),N,(0,s._)("span",null,"所属笔记本："+(0,o.zw)(t.belongTo),1),(0,s._)("a",{class:"button action",onClick:e[0]||(e[0]=(...t)=>b.onRevert&&b.onRevert(...t))},"恢复"),(0,s._)("a",{class:"button action",onClick:e[1]||(e[1]=(...t)=>b.onDelete&&b.onDelete(...t))},"彻底删除")])),(0,s._)("div",_,[(0,s._)("span",null,(0,o.zw)(t.curTrashNote.title),1)]),(0,s._)("div",v,[(0,s._)("div",{class:"preview","markdown-body":"",innerHTML:b.compiledMarkdown},null,8,w)])])])}var g=r(9980),b=r.n(g),y=r(1588),I=r(3907),f=r(9418);let m=new(b());var C={data(){return{}},created(){y.Z.getInfo().then((t=>{t.isLogin||this.$router.push({path:"/login"})})),this.getNotebooks(),this.getTrashNotes().then((()=>{this.setCurTrashNote({curTrashNoteId:this.$route.query.noteId}),this.$router.replace({path:"/trash",query:{noteId:this.curTrashNote.id}})}))},computed:{...(0,I.Se)(["trashNotes","curTrashNote","belongTo"]),compiledMarkdown(){return m.render(this.curTrashNote.content||"")}},methods:{...(0,I.OI)(["setCurTrashNote"]),...(0,I.nv)(["deleteTrashNote","revertTrashNote","getTrashNotes","getNotebooks"]),onDelete(){f.T.confirm("删除后将无法恢复","确定删除？",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>this.deleteTrashNote({noteId:this.curTrashNote.id}))).then((()=>{this.setCurTrashNote(),this.$router.replace({path:"/trash",query:{noteId:this.curTrashNote.id}})}))},onRevert(){this.revertTrashNote({noteId:this.curTrashNote.id}).then((()=>{this.setCurTrashNote(),this.$router.replace({path:"/trash",query:{noteId:this.curTrashNote.id}})}))}},beforeRouteUpdate(t,e){this.setCurTrashNote({curTrashNoteId:t.query.noteId})}},D=r(3744);const z=(0,D.Z)(C,[["render",k]]);var $=z}}]);
//# sourceMappingURL=692.b96c3fcd.js.map